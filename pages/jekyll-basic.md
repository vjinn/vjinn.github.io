---
layout: page
title: 지킬 사용의 기본
permalink: /jekyll-basic/
menutitle: 기본
number: 4
---

원하는 환경에 지킬을 설치했다면 보통 다음의 순서로 진행하면 된다. 리눅스, 윈도즈, 맥 등 어떤 환경에서도 모두 같다. 운영체제별 일부 명령어가 틀릴 뿐이다.

 - 지킬 사이트 생성 (테마 선정)
 - 전역 설정
 - 글쓰기
 - 사이트 변환

## 사이트 생성

지킬 사이트를 생성한다는 것은 **템플릿을 복사하는 것**, **테마를 복사(복제)하는 것**과 같은 뜻이다. 거창한 의미가 없다.

### jekyll new

`jekyll new` 명령은 터미널에서 사용하는 명령으로 이미 존재하는 테마(템플릿, 지킬 버전에 따른 기본 테마)를 사용하는 것이다. 지킬 사이트 생성은 터미널에서 아래의 명령으로 가능하다.

```bash
$ jekyll new mysite
```

위의 명령은 현재 위치에 'mysite' 디렉터리를 생성하고 그 안에 기본 제공 테마를 복사하겠다는 의미와 같다.

기본 제공 테마를 사용하려면 위의 명령이 편하지만, 이 테마를 사용하지 않는다면 아래의 명령과 같이 디렉터리 생성에 지킬 명령어를 사용한 경우가 된다.

```bash
$ mkdir mysite
```

기본 제공 테마를 사용하지 않는다면 지킬의 사이트 생성 명령은 생성 디렉터리로 접근하여 생성한 파일들(히든 파일 포함)을 지워야 하는 아주 작은 번거로움이 있다. 배경지식이 없다면 괜히 피곤하다. 따라서 `jekyll new` 명령은 다음의 경우에만 사용하면 되고, 지킬 사용이 익숙해 지면 잊어도 된다.

 - **지킬 설치 후 사용에 이상이 없는지 확인할 때** : `jekyll new` 명령 후 에러 메시지가 나온다면 추가로 설치해야 할 패키지가 있는지 확인해야 한다.
 - **지킬을 처음 사용할 때** : 기본 제공 템플릿으로 지킬 사이트와 설정 내용을 경험하는 것도 필요하다.

### 데스크톱 GUI 환경에서 생성

터미널 사용이 어색하다면 데스크톱 환경(GUI 환경)에서 원하는 위치에 디렉터리 생성, 파일 복사, 이동, 압축 해제 등의 익숙한 방식을 사용하면 된다. 전혀 문제없다.

이럴 경우 지킬 사이트에 필요한 설정 파일이나 템플릿 파일을 직접 만들기 어렵거나 귀찮을 것이다. 기존 지킬 사이트의 소스나 공개 지킬 테마를 다운로드하여 자신이 원하는 방향으로 수정하여 사용하는 것이 최선이다. 이것은 터미널을 사용할 때도 마찬가지이다.

## _config.yml

지킬 사이트에 사용할 테마까지 정하여 사이트 디렉터리를 생성했다면 사이트 전역의 설정이 필요하다. 기존 사이트의 소스나 공개 테마를 사용한다면 `_config.yml` 파일에 이미 그 테마에 맞는 설정 내용이 있을 것이다. 따라서 소스나 테마 사용의 설명을 따르는 것이 좋다. 안내가 없다면 직접 확인하여 변경하는 수밖에 없다. 직접 추가한 옵션도 사이트 템플릿에 적용할 수 있다. 다양한 경우가 있으므로 설정 옵션에 대해서 미리 학습할 필요가 없다. 필요할 때 찾는 것이 효율적이다.

일반적이라고 말할 수는 없지만 아래의 설정 항목은 테마의 템플릿에 정의한 사용자 설정과 무관하게 사용할 수 있는 내용으로 아주 기본적인 것만 나열한 것이다. 플래그(아래에서 kramdown, pygments 같은)는 다른 설정이 가능하다. 아래는 예시이므로 정해진 것이 아님을 기억하자.

```yaml
markdown: kramdown
highlighter: pygments
permalink: pretty
relative_permalinks: false
```

설정 파일 `_config.yml` 작성 시 **옵션+콜론(:)+공백1+플래그** 형식으로 작성한다는 것을 기억하자. 포스트나 페이지 등의 Front Matter(머리말)도 마찬가지이다. 탭(Tab) 사용 및 공백없이 붙여쓰기는 문제 발생 소지가 있다.

아래의 링크(순서대로 영,한)로 가면 더 많은 정보를 얻을 수 있다. 필요할 때 찾아보기 바란다.

 - [Configuration](http://jekyllrb.com/docs/configuration/)
 - [환경설정](http://jekyllrb-ko.github.io/docs/configuration/)

## 포스트, 글쓰기

지킬에서 글쓰기만큼 중요한 것은 없다. 글쓰기를 위해 설치, 설정하는 것이다. 지금 말하는 글쓰기는 보통 **post(포스트)**라고 부르는 콘텐츠 타입의 하나를 말한다.

### _posts

 - 포스트 파일은 `_posts` 디렉터리 안에 저장한다.
 - `yyyy-mm-dd-파일명.확장자(md 또는 markdown 또는 textile)` 형식으로 포스트 파일명을 만들어야 한다.
 - `_posts` 디렉터리 안에 새로운 디렉터리를 만들어 포스트 파일을 저장해도 된다. 관리 측면에서 필요할 수 있지만 그러지 말자.

### Front Matter, 머리말

지킬에서 포스트 작성을 위한 문서 맨 위에 선언해야 하는 일종의 규칙이다. 3개의 `-` 기호를 처음과 끝에 입력한다는 것이 핵심이다.

```yaml
---
layout: post
title: 포스트 제목
---
```

`title` 항목이 없으면 파일명에서 확장자를 제외한 부분이 사이트에서 문서 제목으로 나타난다. 위의 내용만 사용해도 문제없다. 직접 새로운 변수의 정의도 가능하지만 필요할 때 생각하면 된다. 다음의 링크에 좀 더 많은 내용이 있다. 

 - [Front Matter](http://jekyllrb.com/docs/frontmatter/)
 - [머리말](http://jekyllrb-ko.github.io/docs/frontmatter/)

### 포스팅, 마크다운

지킬에서 글쓰기는 마크다운(Markdown)을 사용한다. 마크다운은 문서 작성 시 사용하는 **양식 문법**이라고 생각하면 된다. 다른 언어나 문법도 사용할 수 있다는 것은 생각하지 말고 그냥 마크다운을 사용한다고 생각하자.

마크다운은 글쓰기를 통해 조금씩 익혀 나가는 방법이 제일 좋다. 문서 내부의 문단 제목을 표현할 때, 링크를 넣고 싶을 때, 이미지를 넣어야 할 때 등 상황이 발생하면 검색하여 사용하면 된다. 더 이상 말할 필요가 없을 만큼 단순하고 간단하다.

마크다운 외에 프로그래밍 소스를 그 언어에 맞도록 문서 내에 표현(Highlighting code snippets)하기 위한 Liquid 태그 등이 있지만 이 역시 사용해야 할 때 검색하는 방식이나 기존 사용자의 소스를 참고하는 방법이 가장 현명한 방법이다.

## jekyll serve

로컬 환경에서 지킬 설정과 마크다운으로 글쓰기를 했지만 이런 파일들을 웹브라우저는 해석하지 못한다. 또 깃허브가 아닌 일반 웹호스팅 서버는 이런 지킬 사이트의 파일들을 해석하지 못한다. *(물론 깃허브와 같은 서비스를 한다면 이야기는 달라진다.)* 그래서 `html` 파일로 변환하는 과정이 필요하다. 터미널에서 다음과 같은 명령으로 간단하게 처리할 수 있다. 지킬 사이트 디렉터리 안에서 실행해야 한다.

```bash
$ jekyll serve
```

위의 명령은 다음과 같이 해석하면 된다.

 - 사이트 설정을 기준으로 템플릿 파일을 해석하여 지킬 사이트 디렉터리에 `_site` 디렉터리를 만들고 그 안에 변환한 `html` 파일을 생성한다.
 - 또 사이트 콘텐츠를 수정하면 즉시 반영(변환)하여 `_site` 전체를 재생성한다.
 - 만약 `_config.yml` 파일의 내용을 수정했다면 터미널에서 실행중인 서버를 중지(`Ctrl + c`) 후 다시 명령을 실행한다.
 - 이미지 파일, 자바스크립 파일, 스타일 정의 파일 등 일반적인 서버 환경에서 해석이 가능한 파일은 그대로 가져오므로 신경 쓰지 않아도 된다.
 - 일반 환경의 서버에 사이트를 호스팅하려면 `_site` 내의 파일들만 전부 업로드하면 된다.

사이트 변환에 관한 명령에는 다음과 같은 것도 있다. 참고만 하자.

```bash
$ jekyll build
```

`serve`, `build` 명령에는 옵션을 지정하여 원하는 방향 설정이 가능하지만, 결국 지킬 사이트를 호스팅하기 위해 변환하는 것과 설정한 내용 및 작성한 글이 제대로 표현되는지 확인하기 위함이다. 따라서 과감하게 나머지 옵션들과 명령어는 잊자. `jekyll serve` 하나만 기억하자. 지킬 사용 전체에 걸쳐 터미널에서 지킬과 관련한 명령어는 이 하나만 기억하고 사용해도 된다.

`_site` 디렉터리 이름도 옵션이 없을 때 생성되는 기본값인데 그냥 그대로 사용하자. 옵션이 필요한 경우가 있다면 배경지식이 있는 사용자일 가능성이 크므로 스스로 잘 처리할 것이다. 또 `_site` 디렉터리 안으로 접근하여 파일과 디렉터리가 어떻게 생성되는지 확인하지 말기 바란다. 궁금하다면 웹브라우저의 Url을 보면 된다.

아래의 링크를 참조하여 필요할 때 추가정보를 얻으면 된다.

 - [Basic Usage](http://jekyllrb.com/docs/usage/)
 - [기본 사용법](http://jekyllrb-ko.github.io/docs/usage/)

## 사이트 생성, 사이트 변환 (소스 파일, 변환 파일)

`jekyll new` 명령으로 디렉터리를 생성하여 기본 템플릿을 가져오거나 `mkdir` 명령으로 디렉터리를 생성하고 원하는 테마(템플릿)를 생성한 디렉터리에 복사하는 것 모두 지킬 **사이트 생성**이다. 이렇게 생성한 디렉터리와 파일을 지킬 **사이트 소스 디렉터리**, **소스 파일**로 생각하면 된다. 깃허브에 호스팅할 경우 이 소스 디렉터리만 있으면 된다.

생성한 사이트 디렉터리 안에서 `jekyll serve` 또는 `jekyll build` 명령으로 `_site` 디렉터리를 생성하여 그 디렉터리에 실제 웹에서 표현되는 `html` 파일을 만드는 것이 지킬 **사이트 변환**이다. 이렇게 변환한 디렉터리와 파일을 그냥 **변환 디렉터리**, **변환 파일**이라고 부르자. 이 디렉터리는 깃허브에 호스팅할 경우에 없어도 된다. 깃허브에 호스팅을 꼭 해야하는데 특정 플러그인 사용 등으로 소스 디렉터리 푸쉬가 거절될 경우에는 이 변환 파일을 푸쉬하여 호스팅할 수 있다. 

## 플러그인

지킬 공식 웹사이트에는 플러그인을 설치하는 3가지 방법을 안내하고 있다. (아래 - 영,한 순서)

 - [Installing a plugin](http://jekyllrb.com/docs/plugins/#installing-a-plugin)
 - [플러그인 설치하기](http://jekyllrb-ko.github.io/docs/plugins/#section)

이 내용을 현실적으로 표현하면 **해당 플러그인의 안내에 따른다**는 말이다. 어떤 플러그인은 위의 링크에 나와 있는 2번 방법을 안내하고 있으면서 안될 경우 3번의 방법을 해보라고 한다. 어떤 플러그인은 나름의 방법을 설명한다.

플러그인에 대한 공식 사이트의 전체 내용은 다소 기술 중심의 설명인데 사용 경험적으로 생각해 보면 다음과 같이 생각할 수 있다.

 - `Gem` 패키지로 제공하여 로컬에 설치하는 플러그인
 - 3자 (사용자) 플러그인

또 다른 기준으로 생각하면 다음과 같다.

 - 사이트 변환 시 플러그인 기능이 적용되는 것
 - 로컬에서 사용하기 위한 것 (지킬 사용의 편의를 위한)

주로 지킬에서 배포하는 플러그인은 지킬 설치 시 포함되거나 `gem` 명령으로 로컬에 설치하여 사용하는 경우다. 특정 경로의 플러그인 파일을 (보통 다운로드나 복사의 방법) 지킬 소스 디렉터리에 붙여넣는 방식은 3자 플러그인 경우가 많다. 그 후에 플러그인 안내에 따라 '**사용**' 한다.

간단히 예를 들면, `jekyll-mentions`, `jekyll-sitemap` 플러그인은 `gem` 명령으로 로컬에 설치하는 것으로 플러그인 기능이 사이트 변환 시 적용된다.

`jekyll-compose` 플러그인은 터미널에서 포스트 작성 시 편의를 더해 주는 것인데, 로컬에서 사용하기 위한 것이며 사이트 변환과는 관련이 없다.

플러그인에 대한 것은 적용하는 과정에서 조금씩 이해하는 것이 좋다.

## 경로, PWD

지킬 사용 때문에 터미널 경험이 처음이라면 접속 위치, 경로에 대한 이해는 가장 우선돼야 한다. 어떤 운영체제 환경을 사용하더라도 같다. 또 '루트 디렉터리', '계정 홈', '사이트 루트' 등에 대한 이해는 대부분의 웹소프트웨어 사용에서 배경지식이 없는 사용자들이 어려워하는 사항이다.

지킬을 설치한 후 터미널에서 사이트 생성 명령인 `jekyll new`는 터미널에 현재 접속한 위치가 어떤 경로이든 상관없다. 그러나 `jekyll serve` 명령은 지킬 사이트 디렉터리 안으로 접근하여 실행해야 한다. 옵션을 준다면 접근 경로는 상관없지만 앞에서 이야기한 데로, 그러지 말자.

배경지식이 없다면 기준을 잡자. 그 반대라 해도 마찬가지이다. 지킬 사이트 변환 옵션은 글쓰기에 도움을 주지 않으며 쓸 일이 거의 없으며 귀찮다. 변환 경로나 생성되는 디렉터리 이름을 다르게 할 경우는 직접 서버를 운영하고 있어서 변환되는 파일을 호스팅 계정 루트에 직접 생성되도록 활용하는 경우가 아닐까 한다. 또 [Koding.com 서비스를 이용할 때]({% post_url 2015-01-24-install-jekyll-and-using-on-koding-com %}) 필요할 수도 있다.

 - 항상 사이트 변환은 변환하고자 하는 지킬 사이트 디렉터리에 접근하여 실행한다.
 - 따라서 경로 옵션은 사용할 필요가 없다.
 - `jekyll serve` 명령만 사용한다.

예를 들어, 리눅스 데스크톱 환경에서 사용자 계정(아이디)이 **vjinn**, 이 사용자의 홈 디렉토리에 모든 지킬 사이트를 모을 디렉터리 **Jekyll** 생성, 이 디렉터리에 하나의 지킬 사이트를 만드는데 이 하나의 지킬 사이트 도메인과 같은 이름의 디렉터리 **jekyll.vjinn.com**으로 만들었을 때 이 하나의 지킬 사이트 루트 디렉터리 접근은 터미널에서 아래처럼 하면 된다.

```bash
$ cd /home/vjinn/Jekyll/jekyll.vjinn.com
```

터미널을 실행하면 로그인한 사용자(vjinn)의 홈 디렉토리에 접근한 상태(/home/vjinn/)로 실행되는 것이 기본이므로 다음과 같이 하면 된다.

```bash
$ cd Jekyll/jekyll.vjinn.com
```

이 경로에 접근 후 사이트를 변환하면 된다.

```bash
$ jekyll serve
```

이런 저런 작업을 하다가 현재 접근한 경로를 모르겠다면 터미널에서 아래와 같은 명령어를 입력하면 된다.

```bash
$ pwd
```

터미널을 사용할 경우만 제외하고 글쓰기, 파일 작업 등 나머지는 GUI 환경에서 처리하면 된다. 깃허브에 호스팅할 때도 터미널 사용이 어색한 경우 어려울 수 있지만 검색과 질문으로 한 번만 해결하면 즐거울 것이다.

길게 이야기하는 것은 처음 사용하는 사람을 위해서이며, 가장 어려워하는 부분이기 때문이다. 볼일 없는 내용이라면 이 페이지를 떠나면 된다.

---

아래 영상은 이 페이지의 내용 일부를 실행한 것이다. 때로는 GUI 환경에서, 때로는 터미널에서 실행한 것인데 기본 생성 및 테마 다운로드로 생성에 대한 내용이다. 가볍게 참고로 보면 된다.

http://www.youtube.com/embed/5Td33bQPLf4

<div class="video">
<iframe src="//www.youtube.com/embed/5Td33bQPLf4" frameborder="0" allowfullscreen></iframe>
</div>

지킬 사이트의 파일과 디렉터리 구조, 페이지 등 나머지 사항들은 항상 상황이 있을 때 찾아서 적용하자. 선행학습은 지킬에서도 금지다.
